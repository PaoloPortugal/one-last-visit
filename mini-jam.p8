pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
-- mINI jAM gAME
-- bY: pAOLO "MOOFYS" pORTUGAL, aGUSTIN "eLHOMBRELLAVE" cABRAL, mANUEL "mAKU" kARADJIAN

-->8
-- main

#include gameplay.lua
#include visuals.lua
#include entities.lua

function _init()
-- runs once at the start
    s_x=3*8 -- spawn x position
    s_y=3*8 -- spawn y position
    player=make_player(s_x,s_y)
    local chair=make_chair(5*8,5*8)
    cam=make_camera(player)
    messages={}
    objects={chair}
end

function _update60()
-- runs at 60fps
    player:update(objects)
    for obj in all(objects,dialogue.active) do
        obj:update()
    end
    cam:update()
end

function _draw()
-- runs at 60fps
    cls(0)

    camera(cam:cam_pos())

    map()

    for obj in all(objects) do
        obj:draw()
    end

    player:draw()

    camera(0,0)

    player:draw_hud()
    
end

__gfx__
00000000000001111110000000000111111000000000011111100000000001111110000000000111111000000000011111100000000001111110000000000000
00000000000019999991000000001999999100000000199999910000000019999991000000001999999100000000199999910000000019999991000000000000
00000000000199999999100000019999999910000001999999991000000199999999100000019999999910000001999999991000000199999999100000000000
00000000001999999999910000199999999991000019999999999100001999999999910000199999999991000019999999999100001999999999910000000000
00000000019999999999991001999999999999100199999999999910019999999999991001999999999999100199999999999910019999999999991000000000
00000000011111111111111001111111111111100111111111111110011111111111111001111111111111100111111111111110011111111111111000000000
00000000199199199191919119919919919191911991991991919191199191999199199119919199919919911991919991991991199191999199199100000000
00000000199199199191919119919919919191911991991991919191199191999199199119919199919919911991919991991991199191999199199100000000
00888800011111111111111001111111111111100111111111111110011111111111111001111111111111100111111111111110011111111111111000000000
08000080001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff10000000000
80700708001ff7ffff7ff100001ff7ffff7ff100001ff7ffff7ff100001ffffffff7f100001ffffffff7f100001ffffffff7f100001ffffffff7f10000000000
80077008001ff7ffff7ff100001ff7ffff7ff100001ff7ffff7ff100001ffffffff7f100001ffffffff7f100001ffffffff7f100001ffffffff7f10000000000
80077008001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff100001ffffffffff10000000000
807007080001ffffffff10000001ffffffff10000001ffffffff10000001ffffffff10000001ffffffff10000001ffffffff10000001ffffffff100000000000
08000080000011ffff110000000011ffff110000000011ffff110000000011ffff110000000011ffff110000000011ffff110000000011ffff11000000000000
00888800000115555551100000011555555110000001555555551000000015555551000000001555555100000000155555510000000015555551000000000000
00099000000155555555100000015555555510000001f555555f1000000015155551000000001515115100000000151555510000000015555551110000000000
000990000001f555555f10000001f555555f10000001f555555f1000000015111551000000001511ff1100000000111555510000000015555155ff1000000000
000990000001f555555f10000001f555555f10000001f555555f10000000151ff151000000001551ff1100000001ff1555510000000015555515ff1000000000
000990000001f444444f10000001f444444f100000001444444100000000141ff141000000001444114100000001ff1414410000000014444441110000000000
00099000000014111141000000001411114100000000141111410000000014411441000000011441144410000000114411441100000014411441000000000000
00000000000014100141000000001210014100000000141001210000000012211221000000122221012221000001222100122210000012211221000000000000
00099000000012100121000000001110012100000000121001110000000012221222100000122111012210000001221100122100000012221222100000000000
00099000000011100111000000000000011100000000111000000000000001110111000000011100001100000000111000011000000001110111000000000000
055555500000600000000bb06060066010100110000066000000060000000a000000000000000000000000000000000000000000000000000000000000000000
555555550006760000003b00660666661101111100066660000060600000a0a00000000000000000000000000000000000000000000000000000000000000000
5555555500677760000030000606660001011100000066660000060600000a0a0000000000000000000000000000000000000000000000000000000000000000
5555555506777776000330000000060000000100000446660060606000a0a0a00000000000000000000000000000000000000000000000000000000000000000
55555555677777600003300066660000111100000044406000060000000a00000000000000000000000000000000000000000000000000000000000000000000
55555555067776000444444060666660101111100444000060600000a0a000000000000000000000000000000000000000000000000000000000000000000000
555555550067600004444440666000001110000044400000060000000a0000000000000000000000000000000000000000000000000000000000000000000000
05555550000600000044440000000000000000004400000060000000a00000000000000000000000000000000000000000000000000000000000000000000000
00333333333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03666666666666300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
36444444444444630000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03555555555555300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34444444444444430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34433333333334430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
34430000000034430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33330000000033330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000101010101010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000300000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000101010101000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010
